# To-Do-List-API
После запуска приложения выполняется инициализация REST API для управления списком задач. Точка входа программы расположена в файле main.cpp. В нём создаётся HTTP-сервер на базе библиотеки cpp-httplib, инициализируется подключение к локальной базе данных SQLite и создаётся экземпляр репозитория TaskRepository. Далее инициализируется сервисный слой TaskService, который использует репозиторий для выполнения операций над данными. После этого через контроллер регистрируются HTTP-обработчики, и сервер переводится в режим ожидания входящих запросов.

Сервер принимает HTTP-запросы и обрабатывает их в соответствии с REST-подходом, используя стандартные HTTP-методы GET, POST, PUT/PATCH и DELETE. Все входящие и исходящие данные передаются в формате JSON. Основным ресурсом API является задача (Task), которая содержит идентификатор id, название title, описание description и статус status, принимающий значения "todo", "in_progress" или "done". Структура задачи описана в файлах model.h и model.cpp и используется на всех этапах обработки запросов.

При поступлении HTTP-запроса сервер передаёт его в соответствующий обработчик, определённый в controller.cpp. Контроллер анализирует HTTP-метод и путь запроса, извлекает параметры URL и разбирает тело запроса в формате JSON с использованием библиотеки nlohmann::json. На этом этапе выполняется базовая проверка входных данных, после чего формируется вызов соответствующего метода сервисного слоя.

При обращении к эндпоинту POST /tasks контроллер извлекает из JSON-запроса поля title, description и status и передаёт их в метод create сервисного слоя. В сервисе создаётся новая задача, которой присваивается уникальный идентификатор. После успешного создания клиенту возвращается JSON-представление задачи с кодом состояния 201 Created.

Запрос GET /tasks обрабатывается вызовом метода get_all сервисного слоя. Сервис получает список всех задач через репозиторий и возвращает его контроллеру. В ответ клиенту отправляется JSON-массив задач с кодом состояния 200 OK.

Для получения одной задачи используется запрос GET /tasks/{id}. Контроллер извлекает идентификатор задачи из URL и вызывает метод get_by_id. Если задача найдена, она возвращается клиенту в формате JSON с кодом 200 OK. Если задача с указанным идентификатором отсутствует, сервер возвращает код состояния 404 Not Found.

Полное обновление задачи выполняется через эндпоинт PUT /tasks/{id}. Контроллер принимает JSON-запрос с полным набором полей задачи и передаёт данные в метод update_full. Сервис обновляет данные задачи через репозиторий и возвращает обновлённую версию с кодом состояния 200 OK. В случае отсутствия задачи возвращается 404 Not Found.

Частичное обновление задачи осуществляется с помощью запроса PATCH /tasks/{id}. Контроллер передаёт в сервис только те поля, которые присутствуют в JSON-запросе, например изменение статуса. Метод update_partial применяет изменения, после чего клиент получает обновлённую задачу с кодом 200 OK.

Удаление задачи выполняется с помощью эндпоинта DELETE /tasks/{id}. Контроллер вызывает метод remove сервисного слоя, который удаляет задачу через репозиторий. При успешном удалении сервер возвращает код состояния 200 OK. Если задача не найдена, возвращается 404 Not Found.

Для работы с данными сервисный слой использует репозиторий TaskRepository, реализованный в repository.h и repository.cpp. Репозиторий формирует SQL-запросы и выполняет их с использованием SQLite, а результаты преобразует в объекты модели Task, которые возвращаются обратно в сервис.
